/*
 MIT
*/
Framework7.prototype.plugins.tourguide=function(f){var h=Dom7,k=Template7,g;var p=function(b,d,a){var c=this,l={previousButton:!1,nextButtonText:"Next",endTourButtonText:"Done",previousButtonText:"Previous",template:g,customCSS:"tour-guide-popover"};d=d||{};b=b||[];a=a||0;c.setMoveForwardAction=function(){h(document).on("click",".tour-guide-next-button",function(e){e.preventDefault();e.stopImmediatePropagation();e.stopPropagation();a++;b.length===a?console.log("No more steps"):console.log("Next step");
    c.showTour(b,a)})};c.setMoveBackwardAction=function(){h(document).on("click",".tour-guide-previous-button",function(e){e.preventDefault();e.stopImmediatePropagation();e.stopPropagation();console.log("previous step");a--;c.showTour(b,a)})};c.moveFoward=function(){+a===b.length?console.log("Last step, cannot move forward."):(a++,b.length===a?console.log("No more steps"):console.log("Next step"),c.showTour(b,a))};c.moveBackward=function(){0===+a?console.log("First step, cannot move backwards."):(a--,
    b.length===a?console.log("No more steps"):console.log("Next step"),c.showTour(b,a))};c.showTour=function(){setTimeout(function(){try{f.closeModal(),a===b.length?("undefined"!==typeof b[a]&&null!==b[a]&&"undefined"!==typeof b[a].action&&null!==b[a].action&&"function"===typeof b[a].action&&b[a].action(),a=0):("undefined"!==typeof b[a].action&&null!==b[a].action&&"function"===typeof b[a].action&&b[a].action(),f.popover(b[a].html,b[a].element,!0,!0,!1))}catch(e){console.log("Framework7 is not ready yet"),
    console.log(e)}},100)};c.prepareSteps=function(){for(var a in b){var c={};b[a].header&&(c.header=b[a].header);b[a].message&&(c.message=b[a].message);d.previousButton&&0<a&&(d.enablePreviousButton=!0);+a===b.length-1&&(d.lastStep=!0);c.options=d;try{b[a].html=m(c)}catch(n){console.log("Failed to compile template with context"),console.log(n)}}};g='<div class="popover popover-step-tutorial {{#if options.customCSS}}{{options.customCSS}}{{/if}}"><div class="popover-angle"></div><div class="popover-inner"><div class="tour-guide-container-wrapper"><div class="tour-guide-header-wrapper"><p class="tour-guide-header">{{header}}</p></div><div class="tour-guide-message-wrapper"><p class="tour-guide-message">{{message}}</p></div></div><div class="tour-guide-toolbar-wrapper"><div class="toolbar"><div class="toolbar-inner"><div class="row tour-guide-buttons-row">{{#if options.previousButton}}<div class="col-50"><a href="#" class="button tour-guide-button tour-guide-previous-button" {{#unless options.enablePreviousButton}}disabled="disabled"{{/unless}}>{{options.previousButtonText}}</a></div>{{/if}}<div class="col-{{#if options.previousButton}}50{{else}}100{{/if}}"><a href="#" class="button tour-guide-button tour-guide-next-button">{{#if options.lastStep}}{{options.endTourButtonText}}{{else}}{{options.nextButtonText}}{{/if}}</a></div></div> </div></div></div></div></div>';
    if(d.template)var m=k.compile(d.template);else f._compiledTemplates.tourguide||(f._compiledTemplates.tourguide=k.compile(g)),m=f._compiledTemplates.tourguide;(function(){var a;d=d||{};for(a in l)"undefined"===typeof d[a]&&(d[a]=l[a])})();c.prepareSteps();c.setMoveForwardAction();c.setMoveBackwardAction();return c};f.tourguide=function(b,d,a){return new p(b,d,a)}};